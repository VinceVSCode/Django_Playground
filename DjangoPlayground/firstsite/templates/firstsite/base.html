{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>{% block title %}Notes{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'firstsite/styles.css' %}" />
</head>
<body>
  <!-- unified topbar (uses classes defined in styles.css) -->
  <header class="topbar" aria-label="Site header">
    <div class="topbar__left">
      <!-- Placeholder for a future logo -->
      <div class="logo-slot" aria-label="App Logo Placeholder"></div>

      <!-- Primary nav -->
      <nav class="topbar__nav" aria-label="Main navigation">
        <a href="{% url 'note_lists' %}" class="topbar__link">Notes</a>
        <a href="{% url 'create_note' %}" class="topbar__link">New note</a>
        <a href="{% url 'analytics' %}" class="topbar__link">Analytics</a>
      </nav>
    </div>

    <div class="topbar__right">
      {% if request.user.is_authenticated %}
        <span class="topbar__user">Logged in as {{ request.user.username }}</span>
        <form action="{% url 'logout' %}" method="post" class="inline" style="margin:0;">
          {% csrf_token %}
          <button class="button" type="submit">Logout</button>
        </form>
      {% else %}
        <a href="{% url 'login' %}" class="topbar__link">Login</a>
      {% endif %}
    </div>
  </header>

  <!-- Flash messages (now styled using .card) -->
  {% if messages %}
    <div class="page" role="status" aria-live="polite" style="padding-top:.75rem;">
      {% for message in messages %}
        <div class="card" style="margin-bottom:.5rem;">
          <p class="muted">{{ message }}</p>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <!-- Main page wrapper (uses .page from styles.css) -->
  <main class="page">
    {% block content %}{% endblock %}
  </main>
</body>
</html>
